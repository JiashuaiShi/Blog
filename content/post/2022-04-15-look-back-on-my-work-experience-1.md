---
title: 工作经历回顾(1)-迈瑞
date: '2022-04-15'
slug: look-back-on-my-work-experience-1
categories:
  - work
tags:
  - summary
---

## [迈瑞] 1 工作回顾

### 业务知识

- 业务知识扎实，解决大量的算法问题，并总结输出记录。
- 所有的变更，充分设计测试用例测试，两年内无发布事故。
- 辅助新员工学习业务，通过试用期。
- 答辩绩效排名前30%，获得一次晋升机会。

### 技术拓展

- 设计了日志接口模块，推动解决了跨平台无日志的问题。
- 使用simd、cuda等技术，预研性能瓶颈的解决。
- 在算法模块外，还承担了Linux应用模块的更改，比如校准模块。

### 项目亮点

- 算法问题的软件抽象设计、算法参数协议的设计。
- 可维护代码的编写。三维散点图设计。
- 测试验证工具，对拍器的编写。

### 遗憾不足

- 新项目比较少。
- 软件的架构已经相当成熟，演进的需求很小。
- 偏重数学建模、算法的逻辑设计，软件参与度低。

## [迈瑞] 2 解决问题

### 1 阅片机拍细胞玻片偶发失焦的问题

-   算法的原理和背景：
    
    -   阅片机的相机模块随壁杆从离玻片几毫米处开始升起，升高若干厘米。
        
    -   根据光学成像原理，过程从近焦阶段到焦点，再从焦点到离焦阶段。而在焦点出拍摄清晰度最高。
        
    -   相机在升高的过程中一共拍摄20~25张玻片，然后从中选择中间的三张图像进行融合，生成清晰度最高的图片。
    
-   遇到的问题：
    
    -   融合后的图片会偶发失焦的现象。
    
-   原因探究：
    
    -   玻片本身污染。
        
    -   因为玻片差异，并非所有的玻片的成像的焦点的距离都在升高的范围内。
        
    -   失焦的玻片，焦点并不处在升高距离的中间点附近，甚至离中间融合的三张玻片的距离很远，所以才能肉眼观察到明显的失焦。（比如升高到最高点仍未到达焦点，这个和玻片推片的质量有相关性）
        

### 2 阅片机小图扣取发现失焦图片

-   算法的原理和背景：
    
    -   一张细胞玻片的图像上会有数目若干的白细胞。
        
    -   需要把白细胞局部的图像扣取出来。
        
    -   抠图是从选择的一组清晰的大图中，先扣取再做融合的。
    
-   遇到的问题：
    
    -   细胞的局部的小图失焦的问题。
    
-   原因探究：
    
    -   选择的距离焦点最近的三张大图是最清晰的，但是不意味着局部最清晰的小图就在这三张大图的中间。很可能某张大图不算最清晰的，但是局部的小图失最清晰的。
        

### 3 血球参数的差异和错误

-   某细胞仪，和标准仪器对比，某样本计算值存在差异。
    
    -   原因：计算公式中，括号的优先级的问题。
    
-   某细胞仪，和标准仪器对比，某样本计算值存在差异。
    
    -   原因：标准仪器采用算法常数值，比如0.91。仪器通过算法常数值的计算公式计算，每次重新生成，比如0.92。
    
-   某细胞仪，和标准仪器对比，某样本计算值存在差异。
    
    -   原因：算法参数的引用值错误，比如，一个值是原始红细胞计算数值，另一个值是重新生成的红细胞计数值。变量名称、含义、数值都比较接近，所以用错。
    
-   某细胞仪，在荧光散点五分类的算法中，某样本计算值存在差异。
    
    -   对分类的散点图的某荧光方向求重心(整体计算比较复杂)，计算步骤的微妙差异，导致其中一个变量值在几千个样本中，出现一个样本异常。
    
-   某细胞仪，在荧光三点五分类的算法中，某样本计算值存在差异。
    
    -   原因：单纯的公式常量值差异。（妇幼保健院）
        
    -   原因：HGB计算值，试剂在俄罗斯的气候中有临界点数值跳变的现象，需要修正。
        
    -   原因：大条件判断组合异常。综合计算异常。
